<!-- File: tasks.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Earn Tasks | Free DOGE</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h2>ğŸ§  Earn by Completing Tasks</h2>
    <p>ğŸ‘‡ Complete tasks below and earn DOGE!</p>

    <div class="task">
      <h3>ğŸ¥ Watch a Video</h3>
      <iframe 
        width="100%" 
        height="200" 
        src="https://www.youtube.com/embed/6PNL6h4IxeI?rel=0&modestbranding=1" 
        title="Earn Free DOGE Task Video" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>

    <div class="task">
      <h3>ğŸ“² Install App</h3>
      <a href="https://play.google.com/store/apps/details?id=com.example.app" target="_blank">
        <button>Install & Earn</button>
      </a>
    </div>

    <div class="task">
      <h3>ğŸŒ Visit Website</h3>
      <a href="https://abdulbasit92786.github.io/free-doge-bot" target="_blank">
        <button>Visit & Claim</button>
      </a>
    </div>

    <p>ğŸ’¡ After completing any task, tap below to notify admin & get 1 DOGE:</p>
    <button onclick="sendTaskProof()">âœ… I've Completed!</button>
  </div>

  <script>
    function sendTaskProof() {
      const TOKEN = "7436258467:AAHOf0R4lMn21XrOrJGIt-L5IuYu3yR9phs";
      const CHAT_ID = "7584161210";

      const message = `
ğŸ“¥ *New Task Completed!*
ğŸ‘¤ A user just completed a CPA/PTC task!
ğŸ’° Please verify and credit their balance.
`;

      // Earn 1 DOGE locally
      let taskEarnings = parseFloat(localStorage.getItem("taskEarnings") || 0);
      taskEarnings += 1;
      localStorage.setItem("taskEarnings", taskEarnings.toFixed(2));
      document.getElementById("taskEarnings")?.innerText = taskEarnings.toFixed(2); // optional live update

      fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message,
          parse_mode: "Markdown"
        })
      }).then(response => {
        if (response.ok) {
          alert("âœ… Task submitted! You earned 1 DOGE.");
        } else {
          alert("âŒ Error submitting task. Please try again later.");
        }
      });
    }
  </script>
</body>
  </html>
