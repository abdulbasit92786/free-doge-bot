<!-- File: tasks.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Earn Tasks | Free DOGE</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h2>🧠 Earn by Completing Tasks</h2>
    <p>👇 Complete tasks below and earn DOGE!</p>

    <div class="task">
      <h3>🎥 Watch a video</h3>
      <iframe width="100%" height="200" src="https://www.youtube.com/embed/6PNL6h4IxeI" frameborder="0" allowfullscreen></iframe>
    </div>

    <div class="task">
      <h3>📲 Install App</h3>
      <a href="https://example.com/app-task" target="_blank">Install & Earn</a>
    </div>

    <div class="task">
      <h3>🌐 Visit Website</h3>
      <a href="https://abdulbasit92786.github.io/free-doge-bot" target="_blank">Visit & Claim</a>
    </div>

    <p>💡 After completing, tap below to notify admin & get 1 DOGE:</p>
    <button onclick="sendTaskProof()">✅ I've Completed!</button>
  </div>

  <script>
    function sendTaskProof() {
      const TOKEN = "7436258467:AAHOf0R4lMn21XrOrJGIt-L5IuYu3yR9phs";
      const CHAT_ID = "7584161210";

      const message = `
📥 *New Task Completed!*
👤 A user just completed a CPA/PTC task!
💰 Please verify and credit their balance.
`;

      // Earn 1 DOGE locally
      let taskEarnings = parseFloat(localStorage.getItem("taskEarnings") || 0);
      taskEarnings += 1;
      localStorage.setItem("taskEarnings", taskEarnings.toFixed(2));

      fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message,
          parse_mode: "Markdown"
        })
      }).then(response => {
        if (response.ok) {
          alert("✅ Task submitted! You earned 1 DOGE.");
        } else {
          alert("❌ Something went wrong.");
        }
      });
    }
  </script>
</body>
</html>
