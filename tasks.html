<!-- File: tasks.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ§  Earn Tasks | Free DOGE</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h2>ğŸ§  Earn by Completing Tasks</h2>

    <div class="task" id="videoTask">
      <h3>ğŸ¥ Watch YouTube Video (Earn 1 DOGE)</h3>
      <iframe width="100%" height="200"
        src="https://www.youtube.com/embed/6PNL6h4IxeI"
        frameborder="0" allow="autoplay; encrypted-media"
        allowfullscreen>
      </iframe>
      <button id="btnWatch">â–¶ï¸ Watch</button>
      <button id="btnClaimVideo" disabled>âœ… Claim Reward</button>
    </div>

    <div class="task" id="visitTask">
      <h3>ğŸŒ Visit Website (Earn 0.5 DOGE)</h3>
      <a href="https://abdulbasit92786.github.io/free-doge-bot" target="_blank">
        <button id="btnVisit">ğŸš€ Visit Site</button>
      </a>
      <button id="btnClaimVisit" disabled>âœ… Claim Reward</button>
    </div>

    <a href="index.html"><button>â¬…ï¸ Back</button></a>
  </div>

  <script>
  let videoPlayed = false, siteVisited = false;

  document.getElementById("btnWatch").addEventListener("click", () => {
    videoPlayed = true;
    localStorage.setItem("videoPlayed", Date.now());
    alert("ğŸ” Please watch 30 seconds, then return here to claim.");
  });
  document.getElementById("btnVisit").addEventListener("click", () => {
    siteVisited = true;
    localStorage.setItem("siteVisited", Date.now());
    alert("ğŸ” You visited the site! Now click 'Claim Reward'.");
    document.getElementById("btnClaimVisit").disabled = false;
  });

  document.getElementById("btnClaimVideo").addEventListener("click", () => {
    let t = parseInt(localStorage.getItem("videoPlayed"));
    if (t && (Date.now() - t >= 30000)) {
      award("video");
      alert("âœ… 1 DOGE added for video!");
      document.getElementById("btnClaimVideo").disabled = true;
    } else alert("âŒ Wait at least 30 seconds before claiming.");
  });

  document.getElementById("btnClaimVisit").addEventListener("click", () => {
    award("visit");
    alert("âœ… 0.5 DOGE added for visiting!");
    document.getElementById("btnClaimVisit").disabled = true;
  });

  function award(type) {
    let earned = parseFloat(localStorage.getItem("taskEarnings") || 0);
    earned += (type == "video" ? 1 : 0.5);
    localStorage.setItem("taskEarnings", earned.toFixed(2));
  }

  window.onload = () => {
    document.getElementById("btnClaimVideo").disabled = !localStorage.getItem("videoPlayed");
    document.getElementById("btnClaimVisit").disabled = !localStorage.getItem("siteVisited");
  };
  </script>
</body>
  </html>
